<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Shaun Chuah]]></title><description><![CDATA[Gastroenterology registrar. Occasional web developer. Interested in technology.]]></description><link>https://shaunchuah.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Tue, 17 Aug 2021 13:49:05 GMT</lastBuildDate><item><title><![CDATA[Setting Up Azure with Nextflow]]></title><description><![CDATA[How to set up your own cloud supercomputer.]]></description><link>https://shaunchuah.github.io/posts/setting-up-azure-with-nextflow</link><guid isPermaLink="false">https://shaunchuah.github.io/posts/setting-up-azure-with-nextflow</guid><pubDate>Wed, 18 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dcaaae8931fa427839223d1a6670cc72/dbec1/azure_nextflow.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAcDOikK//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERAiD/2gAIAQEAAQUCy4PVLx//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAASD/2gAIAQEABj8CHP8A/8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAIDFR4f/aAAgBAQABPyEaYa1B8Kv/2gAMAwEAAgADAAAAEIjP/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qp//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIf/xAAZEAEAAwEBAAAAAAAAAAAAAAABESExABD/2gAIAQEAAT8QfRJLZcw0LXAeBRp6WG98/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/dcaaae8931fa427839223d1a6670cc72/8ac56/azure_nextflow.webp 240w,
/static/dcaaae8931fa427839223d1a6670cc72/d3be9/azure_nextflow.webp 480w,
/static/dcaaae8931fa427839223d1a6670cc72/e46b2/azure_nextflow.webp 960w,
/static/dcaaae8931fa427839223d1a6670cc72/f992d/azure_nextflow.webp 1440w,
/static/dcaaae8931fa427839223d1a6670cc72/882b9/azure_nextflow.webp 1920w,
/static/dcaaae8931fa427839223d1a6670cc72/76078/azure_nextflow.webp 1933w&quot;
              sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/dcaaae8931fa427839223d1a6670cc72/09b79/azure_nextflow.jpg 240w,
/static/dcaaae8931fa427839223d1a6670cc72/7cc5e/azure_nextflow.jpg 480w,
/static/dcaaae8931fa427839223d1a6670cc72/6a068/azure_nextflow.jpg 960w,
/static/dcaaae8931fa427839223d1a6670cc72/644c5/azure_nextflow.jpg 1440w,
/static/dcaaae8931fa427839223d1a6670cc72/0f98f/azure_nextflow.jpg 1920w,
/static/dcaaae8931fa427839223d1a6670cc72/dbec1/azure_nextflow.jpg 1933w&quot;
            sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
            type=&quot;image/jpeg&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/dcaaae8931fa427839223d1a6670cc72/6a068/azure_nextflow.jpg&quot;
            alt=&quot;Setting up azure with nextflow&quot;
            title=&quot;Setting up azure with nextflow&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We will cover getting your nextflow pipeline up and running in the cloud using Azure. First thing to note, this will take quite a number of hours if not a few days so sit back, grab a coffee and take your time working through each section.&lt;/p&gt;
&lt;h3 id=&quot;useful-references&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#useful-references&quot; aria-label=&quot;useful references permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Useful References&lt;/h3&gt;
&lt;p&gt;Nextflow documentation &lt;a href=&quot;https://www.nextflow.io/docs/edge/azure.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;here&lt;/a&gt;.
Nextflow blog post &lt;a href=&quot;https://www.nextflow.io/blog/2021/introducing-nextflow-for-azure-batch.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;table-of-contents&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#table-of-contents&quot; aria-label=&quot;table of contents permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of Contents&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;#1-context&quot;&gt;Context&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-why-azure-over-gcpaws&quot;&gt;Why Azure over GCP/AWS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3-setting-up-your-azure-account&quot;&gt;Setting up your Azure account&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4-configuring-nextflow&quot;&gt;Configuring Nextflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5-separating-credentials-out-of-nextflow-config&quot;&gt;Separating Credentials Out of Nextflow Config&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#6-running-test-and-production-pipelines&quot;&gt;Running Test and Production Pipelines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#7-requesting-a-quota-increase&quot;&gt;Requesting A Quota Increase&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;1-context&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-context&quot; aria-label=&quot;1 context permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Context&lt;/h2&gt;
&lt;p&gt;Let’s start with some context. I’m working with a small team of immunology researchers who are following their scientific questions which has led  into genomics. We don’t have any bioinformatics setup and are starting from nothing - which is probably going to be the case for many newcomers as NGS technology continues to become more accessible (for example Nanopore sequencing).&lt;/p&gt;
&lt;p&gt;The University has a compute cluster but it is equally challenging to get up and running there as on the cloud. In 2021, if you are starting from scratch, I would recommend a cloud-first approach as the cloud allow scalability way beyond any high performance compute cluster at a fraction of the cost. Also, you can access the cloud from anywhere and do not have to setup VPNs etc. to use a university network.&lt;/p&gt;
&lt;h2 id=&quot;2-why-azure-over-gcpaws&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-why-azure-over-gcpaws&quot; aria-label=&quot;2 why azure over gcpaws permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. Why Azure over GCP/AWS?&lt;/h2&gt;
&lt;p&gt;When I first attempted to get Nextflow up and running in the cloud, naturally AWS (Amazon Web Services) was the first contender. For those of you new to cloud computing, AWS is the most established player having been around the longest.&lt;/p&gt;
&lt;p&gt;However, following the Nextflow documentation requires you to create a custom Amazon Machine Image that has awscli installed and no matter how many different attempts I tried, I just couldn’t get it to work properly. I suspect updates to Amazon’s infrastructure have changed the previous instructions available on the internet.&lt;/p&gt;
&lt;p&gt;After Amazon, I tried Google Cloud using their Cloud Life Sciences API and Nextflow. It was incredibly easy to get things up and running however I soon ran into limitations on vCPU quota. Google limits new accounts to 8 vCPUs even though you have put your credit card on and upgraded your account. &lt;/p&gt;
&lt;p&gt;When I contacted Google Support about increasing the quota, they replied and suggested contacting one of their partners and sent a link with a list of maybe a hundred companies, of which you would have no idea who would do bioinformatics. Also, I’m really not interested in going through a third party to get my account running. I might also mention my slight worry that Google does not have a great track record of supporting their non-advertising projects. &lt;a href=&quot;https://killedbygoogle.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;See Here&lt;/a&gt; (I will never forget Google Reader!)&lt;/p&gt;
&lt;p&gt;Finally, after much time spent on the above two, I had nothing to lose giving Azure a try. Initially, Azure’s interface was almost as complex as AWS. However, once you set it up, &lt;strong&gt;Azure support were the most responsive in getting your vCPU quota up&lt;/strong&gt;. Within 30 minutes of setting up my account I obtained 48 vCPUs and subsequently had it increased to 128 with very little hassle at all.&lt;/p&gt;
&lt;p&gt;Therefore, if you’re going to do what I did, I would highly recommend you try Azure first and this is my documentation of what worked in the end after about 2 weeks of effort.&lt;/p&gt;
&lt;h2 id=&quot;3-setting-up-your-azure-account&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-setting-up-your-azure-account&quot; aria-label=&quot;3 setting up your azure account permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. Setting Up Your Azure Account&lt;/h2&gt;
&lt;p&gt;Let’s kick things off. First, sign up for an &lt;a href=&quot;https://azure.microsoft.com&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Azure&lt;/a&gt; account (that pretty much goes without saying).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7e5d99f2bc91885370976a7b549ec841/9b29b/azure_dashboard.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABI0lEQVQoz6VRW07EMAzs/c8Dh4BLrPjhsVugbdL4FTtMWhZY4AdhRZEje+yZySBMlObw2ty2u0bU1rzf4a1F+z16acgkUyqFbSn8MqdlpV7aICK6Fqoe+zGPlAuxIhE1NRvEKgruVVXdezbK6ZHuj+NdyXNEM/dVvEV0Mlv4OYYLLtEmmq4frm7Hm0M6ZMugX83AzgyrPmCxj/gEYwkzo7V11QFR4PZ0ei7Tq4q6VTgy57IsCT19QMRXcAjLPrICHaFbvO9CtKBCcIFEtTrO8M3ErGTwfJvV+7esivSHO1CwC/QhAecCLKzH41jSyrlIytDJxFKKUpfj1bCTWbp3u2FxDoBTIkhKOU1pkpKgGX/DOeND9ga8UAcZ7zx+0P5T/Av8BmwOh45tS7dyAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/7e5d99f2bc91885370976a7b549ec841/8ac56/azure_dashboard.webp 240w,
/static/7e5d99f2bc91885370976a7b549ec841/d3be9/azure_dashboard.webp 480w,
/static/7e5d99f2bc91885370976a7b549ec841/e46b2/azure_dashboard.webp 960w,
/static/7e5d99f2bc91885370976a7b549ec841/f992d/azure_dashboard.webp 1440w,
/static/7e5d99f2bc91885370976a7b549ec841/882b9/azure_dashboard.webp 1920w,
/static/7e5d99f2bc91885370976a7b549ec841/93e07/azure_dashboard.webp 3840w&quot;
              sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/7e5d99f2bc91885370976a7b549ec841/8ff5a/azure_dashboard.png 240w,
/static/7e5d99f2bc91885370976a7b549ec841/e85cb/azure_dashboard.png 480w,
/static/7e5d99f2bc91885370976a7b549ec841/d9199/azure_dashboard.png 960w,
/static/7e5d99f2bc91885370976a7b549ec841/07a9c/azure_dashboard.png 1440w,
/static/7e5d99f2bc91885370976a7b549ec841/29114/azure_dashboard.png 1920w,
/static/7e5d99f2bc91885370976a7b549ec841/9b29b/azure_dashboard.png 3840w&quot;
            sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
            type=&quot;image/png&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/7e5d99f2bc91885370976a7b549ec841/d9199/azure_dashboard.png&quot;
            alt=&quot;Azure dashboard&quot;
            title=&quot;Azure dashboard&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;em&gt;Azure Cloud Dashboard&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Here’s the important bit.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Once you have your Azure account, within Azure, you need to create two accounts: one Azure Batch account and one Azure Storage account.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;batch-and-storage-account-creation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#batch-and-storage-account-creation&quot; aria-label=&quot;batch and storage account creation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Batch and Storage Account Creation&lt;/h3&gt;
&lt;p&gt;Login into Azure Portal and search for ‘batch’ in the top bar. You should then click on Batch accounts. Create a batch account name and the location where you want to run your compute. When you are creating your batch account, it will ask you to associate a storage account - now is a good time to create your storage account as well.&lt;/p&gt;
&lt;h3 id=&quot;create-a-storage-container&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#create-a-storage-container&quot; aria-label=&quot;create a storage container permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Create A Storage Container&lt;/h3&gt;
&lt;p&gt;Once you have your storage account, enter it and click on containers in the left menubar. Then click ’+ container’ and set up a ‘blob’ - this is equivalent to Amazon S3 and will function as the filesystem Azure Batch will read and write files to.&lt;/p&gt;
&lt;h3 id=&quot;get-your-account-keys&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#get-your-account-keys&quot; aria-label=&quot;get your account keys permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Get Your Account Keys&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a9df47b02a9e9d26cb19057d229e2c25/9b29b/batch_account.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABMElEQVQoz31S2XLDIAzM//9lXtomtR1sgy4EdLFbJ+nFeDyLpNW1nIyjcmqtiXCax5altapCc5haK8Dt73OawrLEyMLXMYy3QMSJaF4prCln91JKrV6rmrGoecnbV2rzUk9qOVsu7imJWUY+ZoHbvJWHqkSUiFmzPxhPB2LteQBU5BrSZRHPuX6dIwytiKCMwXgnv769nM9nVXV3RoO1wQ0My84HDU3Cssc/kcO8hDDDhiFWkupWtpExrffpfSO7ELv36xOZROEDWEnDMHKMtSCqzJF7llqQFy5UoBh7plLuZCilCp1a3uq0TaVjVoDO/ybVgSLWrboHrimZWIUImMH66h1//0E+lplQOvXXEqO8X4ZpnMZx4NuUhkVZkegXMlrfm1T7lOqQZ+uz/vPIPgBhI4ec8aJL0gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/a9df47b02a9e9d26cb19057d229e2c25/8ac56/batch_account.webp 240w,
/static/a9df47b02a9e9d26cb19057d229e2c25/d3be9/batch_account.webp 480w,
/static/a9df47b02a9e9d26cb19057d229e2c25/e46b2/batch_account.webp 960w,
/static/a9df47b02a9e9d26cb19057d229e2c25/f992d/batch_account.webp 1440w,
/static/a9df47b02a9e9d26cb19057d229e2c25/882b9/batch_account.webp 1920w,
/static/a9df47b02a9e9d26cb19057d229e2c25/93e07/batch_account.webp 3840w&quot;
              sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/a9df47b02a9e9d26cb19057d229e2c25/8ff5a/batch_account.png 240w,
/static/a9df47b02a9e9d26cb19057d229e2c25/e85cb/batch_account.png 480w,
/static/a9df47b02a9e9d26cb19057d229e2c25/d9199/batch_account.png 960w,
/static/a9df47b02a9e9d26cb19057d229e2c25/07a9c/batch_account.png 1440w,
/static/a9df47b02a9e9d26cb19057d229e2c25/29114/batch_account.png 1920w,
/static/a9df47b02a9e9d26cb19057d229e2c25/9b29b/batch_account.png 3840w&quot;
            sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
            type=&quot;image/png&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/a9df47b02a9e9d26cb19057d229e2c25/d9199/batch_account.png&quot;
            alt=&quot;Batch account keys&quot;
            title=&quot;Batch account keys&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Batch account:&lt;/strong&gt; Enter your batch account and click ‘Keys’ in the left menubar. Take a note of the name and key1.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c80903d517baf32ebab81a0791f5dfc9/9b29b/storage_account.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAvElEQVQoz52QwW4DIQxE+f8/XDVVL5WqJC0L2AYMGOKlipScNtnRHEDy89g2nBwTjM6jt/GmzAqRSylN/lb/a1e7eudDCBAAkWJtIr3/u8rmNt37UBsiyjm31qy1AKDfGCMiZua+m4xEGiwiGsTMtVaZ2prvwgFp1ioM+UEi+ycwGJPWKa2jzuTtrd3GeCF5WZbP00cIXlfVQL5r8nvw+XrxzunB5Fkv7Qwx1VLGIRmLlFM6CH99/yCEY/ANKYKKL7aVgH4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/c80903d517baf32ebab81a0791f5dfc9/8ac56/storage_account.webp 240w,
/static/c80903d517baf32ebab81a0791f5dfc9/d3be9/storage_account.webp 480w,
/static/c80903d517baf32ebab81a0791f5dfc9/e46b2/storage_account.webp 960w,
/static/c80903d517baf32ebab81a0791f5dfc9/f992d/storage_account.webp 1440w,
/static/c80903d517baf32ebab81a0791f5dfc9/882b9/storage_account.webp 1920w,
/static/c80903d517baf32ebab81a0791f5dfc9/93e07/storage_account.webp 3840w&quot;
              sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/c80903d517baf32ebab81a0791f5dfc9/8ff5a/storage_account.png 240w,
/static/c80903d517baf32ebab81a0791f5dfc9/e85cb/storage_account.png 480w,
/static/c80903d517baf32ebab81a0791f5dfc9/d9199/storage_account.png 960w,
/static/c80903d517baf32ebab81a0791f5dfc9/07a9c/storage_account.png 1440w,
/static/c80903d517baf32ebab81a0791f5dfc9/29114/storage_account.png 1920w,
/static/c80903d517baf32ebab81a0791f5dfc9/9b29b/storage_account.png 3840w&quot;
            sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
            type=&quot;image/png&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/c80903d517baf32ebab81a0791f5dfc9/d9199/storage_account.png&quot;
            alt=&quot;Storage account keys&quot;
            title=&quot;Storage account keys&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Storage account:&lt;/strong&gt; Enter your storage account and click ‘Access Keys’ in the left menubar. Again, take note of the storage account name and key1.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;That’s it for this step. Now it’s time to setup Nextflow.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;4-configuring-nextflow&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-configuring-nextflow&quot; aria-label=&quot;4 configuring nextflow permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. Configuring Nextflow&lt;/h2&gt;
&lt;p&gt;I’m going to show you an example configuration here and explain it in detail. The details of your configuration will depend on your pipeline and compute requirements. I hope this serves as an easy template to follow. See the previous post for the nextflow pipeline.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;profiles {
  az {
      params.reads = &apos;az://scgenomics/test_data/*/*_{R1,R2}_*.fastq.gz&apos;
      params.outdir = &apos;az://scgenomics/test_reports&apos;
      params.bowtie2_reference_index = &quot;az://scgenomics/bt2_index.tar.gz&quot;
      params.kraken2_db = &quot;az://scgenomics/k2_standard_8gb_20210517.tar.gz&quot;
      params.metaphlan_db = &quot;az://scgenomics/metaphlan_db.tar.gz&quot;
      params.cpus = 16
      process.executor = &apos;azurebatch&apos;
      workDir = &apos;az://scgenomics/work/&apos;
      azure {
          storage {
              accountName = azure_config[&quot;storageAccountName&quot;]
              accountKey = azure_config[&quot;storageAccountKey&quot;]
          }
          batch {
              location = &apos;uksouth&apos;
              accountName = azure_config[&quot;batchAccountName&quot;]
              accountKey = azure_config[&quot;batchAccountKey&quot;]
              autoPoolMode = true
              pools {
                  auto {
                      vmType = &apos;Standard_D16_v3&apos;
                      maxVmCount = 8
                      autoScale = true
                  }
              }
          }
      }
  }
  az_prod {
      params.reads = &apos;az://scgenomics/data/*/*_{R1,R2}_*.fastq.gz&apos;
      params.outdir = &apos;az://scgenomics/reports&apos;
      params.bowtie2_reference_index = &quot;az://scgenomics/bt2_index.tar.gz&quot;
      params.kraken2_db = &quot;az://scgenomics/k2_standard_20210517.tar.gz&quot;
      params.metaphlan_db = &quot;az://scgenomics/metaphlan_db.tar.gz&quot;
      params.cpus = 16
      process.executor = &apos;azurebatch&apos;
      workDir = &apos;az://scgenomics/production_work/&apos;
      azure {
          storage {
              accountName = azure_config[&quot;storageAccountName&quot;]
              accountKey = azure_config[&quot;storageAccountKey&quot;]
          }
          batch {
              location = &apos;uksouth&apos;
              accountName = azure_config[&quot;batchAccountName&quot;]
              accountKey = azure_config[&quot;batchAccountKey&quot;]
              autoPoolMode = true
              pools {
                  auto {
                      vmType = &apos;Standard_D16_v3&apos;
                      maxVmCount = 8
                      autoScale = true
                  }
              }
          }
      }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;create-test-and-production-profiles&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#create-test-and-production-profiles&quot; aria-label=&quot;create test and production profiles permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Create test and production profiles&lt;/h3&gt;
&lt;p&gt;In your nextflow.config file - set up profiles. I’ve set up two profiles which are almost identical. One is for testing and the other is when you actually want to run the real workflow. In the following example my test profile is named ‘az’ and the production profile is ‘az_prod’. Feel free to change it to what you want.&lt;/p&gt;
&lt;h3 id=&quot;lets-break-it-down&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#lets-break-it-down&quot; aria-label=&quot;lets break it down permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Let’s break it down&lt;/h3&gt;
&lt;p&gt;First, let’s start with pipeline parameters. This will probably be different to your application. I’ve identified where my data resides and where I want my reports to be placed.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  params.reads = &apos;az://scgenomics/data/*/*_{R1,R2}_*.fastq.gz&apos;
  params.outdir = &apos;az://scgenomics/reports&apos;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;2-major-points-to-note-here&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-major-points-to-note-here&quot; aria-label=&quot;2 major points to note here permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2 Major Points to Note Here&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  params.bowtie2_reference_index = &quot;az://scgenomics/bt2_index.tar.gz&quot;
  params.kraken2_db = &quot;az://scgenomics/k2_standard_20210517.tar.gz&quot;
  params.metaphlan_db = &quot;az://scgenomics/metaphlan_db.tar.gz&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Important&lt;/strong&gt; Azure’s containers doesn’t work like a real filesystem. When using reference databases I found that the pipeline doesn’t read folders. What I’ve done is zipped up the reference DBs and unzipped them in the process so that the database is copied over to the VM.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Second Point&lt;/strong&gt; I would upload a copy of the reference database to your storage account. This is because pulling files from your storage account to the VM is really fast whereas if you asked the VM to download the database from the original external servers you are going to cause two major problems:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It’s much slower downloading a database from S3 to Azure.&lt;/li&gt;
&lt;li&gt;You’re going to incur high bandwidth transfer costs both for yourself and for the team hosting the database. Not a great idea to download 20GB everytime you run a single process.&lt;/li&gt;
&lt;li&gt;Be nice and considerate to the kind folks who host the databases&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Therefore, download a single copy of the reference database, zip it up and put it in your storage container.&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  params.cpus = 16&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This just allows me to tweak the number of cores and is completely optional. My local machine has only 4 while I use 16 core VMs on Azure. On the process side of Nextflow I declare the cpus option as a variable that allows me to tweak the entire pipeline with a change of a single number.&lt;/p&gt;
&lt;p&gt;Here’s a brief snippet to give you an idea (pipeline.nf file):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;process bowtie2 {
    container &apos;biocontainers/bowtie2:v2.4.1_cv1&apos;
    cpus &quot;$params.cpus&quot;.toInteger()&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;finally-the-magic&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#finally-the-magic&quot; aria-label=&quot;finally the magic permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Finally the magic&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  process.executor = &apos;azurebatch&apos;
  workDir = &apos;az://scgenomics/production_work/&apos;
  azure {
      storage {
          accountName = azure_config[&quot;storageAccountName&quot;]
          accountKey = azure_config[&quot;storageAccountKey&quot;]
      }
      batch {
          location = &apos;uksouth&apos;
          accountName = azure_config[&quot;batchAccountName&quot;]
          accountKey = azure_config[&quot;batchAccountKey&quot;]
          autoPoolMode = true
          pools {
              auto {
                  vmType = &apos;Standard_D16_v3&apos;
                  maxVmCount = 8
                  autoScale = true
              }
          }
      }
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This block configures Azure Batch settings. You will see that I run &lt;code class=&quot;language-text&quot;&gt;Standard_D16_v3&lt;/code&gt; machines and I use up to 8 VMs for my pipeline. Have a look at &lt;a href=&quot;https://azure.microsoft.com/en-gb/pricing/details/virtual-machines/series/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Azure’s VMs&lt;/a&gt; to have an idea of what machines are available. Your settings for this will be entirely dependent on your quotas and what you’re trying to run. Since kraken2 requires 64GB of RAM those are the VMs I’ve selected.&lt;/p&gt;
&lt;h2 id=&quot;5-separating-credentials-out-of-nextflow-config&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-separating-credentials-out-of-nextflow-config&quot; aria-label=&quot;5 separating credentials out of nextflow config permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5. Separating Credentials Out of Nextflow Config&lt;/h2&gt;
&lt;p&gt;I’m assuming you are using git to version track your code. There are other tutorials on how to do that so look it up if you don’t. Personally I commit my code to GitHub and would suggest you do something similar as it will allow further cool automations that I will cover in the future.&lt;/p&gt;
&lt;p&gt;In the above section you will notice this block of code which is different from what Nextflow’s documentation is.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;accountName = azure_config[&quot;batchAccountName&quot;]
accountKey = azure_config[&quot;batchAccountKey&quot;]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I’m going to explain how to separate out your credentials from your nextflow.config file. You will often hear people scream &lt;strong&gt;‘Don’t commit your credentials to git!’&lt;/strong&gt; They are right of course - if people get hold of your credentials they could run their pipelines on your credit card!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;However, how to avoid doing this is often unclear and leaves beginners wondering what they are supposed to do instead..&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;how-i-separate-credentials-out&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-i-separate-credentials-out&quot; aria-label=&quot;how i separate credentials out permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How I Separate Credentials Out&lt;/h3&gt;
&lt;p&gt;I have my credentials in a separate JSON file named &lt;code class=&quot;language-text&quot;&gt;credentials.json&lt;/code&gt; that is added to the &lt;code class=&quot;language-text&quot;&gt;.gitignore&lt;/code&gt; file to avoid committing that to the repo.&lt;/p&gt;
&lt;p&gt;Here is the json file which is literally 6 lines that you can fill in and rename to &lt;code class=&quot;language-text&quot;&gt;credentials.json&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &quot;storageAccountName&quot;: &quot;&quot;,
    &quot;storageAccountKey&quot;: &quot;&quot;,
    &quot;batchAccountName&quot;: &quot;&quot;,
    &quot;batchAccountKey&quot;: &quot;&quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Make sure you add the line &lt;code class=&quot;language-text&quot;&gt;credentials.json&lt;/code&gt; to your &lt;code class=&quot;language-text&quot;&gt;.gitignore&lt;/code&gt; file. If you don’t have &lt;code class=&quot;language-text&quot;&gt;.gitignore&lt;/code&gt;, create one.&lt;/p&gt;
&lt;p&gt;Now open &lt;code class=&quot;language-text&quot;&gt;nextflow.config&lt;/code&gt; and at the top here’s what I’ve got:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import groovy.json.JsonSlurper
def JsonSlurper = new JsonSlurper()
azure_config = JsonSlurper.parse(new File(&quot;./credentials.json&quot;))&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This allows nextflow.config to read your &lt;code class=&quot;language-text&quot;&gt;credentials.json&lt;/code&gt; file which is in the same directory as the config file.&lt;/p&gt;
&lt;p&gt;Side note: due to relative file naming you do need to run nextflow in the root directory of your repo.&lt;/p&gt;
&lt;p&gt;That’s it, 9 lines of code and a &lt;code class=&quot;language-text&quot;&gt;.gitignore&lt;/code&gt; file to protect you from exposing your sensitive information on the internet!&lt;/p&gt;
&lt;h2 id=&quot;6-running-test-and-production-pipelines&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#6-running-test-and-production-pipelines&quot; aria-label=&quot;6 running test and production pipelines permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6. Running Test and Production Pipelines&lt;/h2&gt;
&lt;p&gt;To run my test pipeline (my pipeline file is named pipeline.nf, other common names include main.nf):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;nextflow pipeline.nf -resume -profile az&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To run production:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;nextflow pipeline.nf -resume -profile az_prod&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can watch Azure Batch spin up VMs in Azure Portal.&lt;/p&gt;
&lt;h2 id=&quot;7-requesting-a-quota-increase&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#7-requesting-a-quota-increase&quot; aria-label=&quot;7 requesting a quota increase permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;7. Requesting A Quota Increase&lt;/h2&gt;
&lt;p&gt;Go to your batch account, click ‘quotas’ in the sidebar and then there is a button ‘Request quota increase’. Fill that in for your desired VM and Microsoft Support will hopefully quickly approve that.&lt;/p&gt;
&lt;h2 id=&quot;whats-next&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#whats-next&quot; aria-label=&quot;whats next permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What’s next?&lt;/h2&gt;
&lt;p&gt;The above steps should get you up and running initially on your own cloud supercomputer. However, you will quickly realise that this launches the pipeline from your local machine and as you know, real production pipelines can run for hours. During this time, your computer needs to remain active as it is the main controller for scheduling and arranging jobs.&lt;/p&gt;
&lt;p&gt;In a future article, I will cover launching pipelines from a cloud server or ‘head node’ and using &lt;code class=&quot;language-text&quot;&gt;screen&lt;/code&gt; to keep long running processes active. This will let you launch pipelines from anywhere and turn off your main computer. You can even code directly on your cloud machine using VSCode Remote. Once you’ve tried this you will never go back!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[How to Create Your Bioinformatics Pipeline with Nextflow]]></title><description><![CDATA[Now that you know how to run bioinformatics software in Docker containers, it's time to connect them up.]]></description><link>https://shaunchuah.github.io/posts/bioinformatics-pipeline-with-nextflow</link><guid isPermaLink="false">https://shaunchuah.github.io/posts/bioinformatics-pipeline-with-nextflow</guid><pubDate>Thu, 12 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7ac17c4f63611789bd96206229d988b0/eea4a/pipeline.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDAv/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGG4VLYiL//xAAZEAACAwEAAAAAAAAAAAAAAAABAgARMRL/2gAIAQEAAQUCWGuW0QC0O//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAABEAARIUH/2gAIAQEABj8C7AdVP//EABsQAQACAgMAAAAAAAAAAAAAAAEAIRFBMVHB/9oACAEBAAE/ITh8Skt2UYOILw5jAGnuN0n/2gAMAwEAAgADAAAAEIgP/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAwEBPxAcg52//8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/EImv/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBYXH/2gAIAQEAAT8QBFwJ931Et0i6Lx72LIQ8VEtYB1PIMpso0rZetd032f/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/7ac17c4f63611789bd96206229d988b0/8ac56/pipeline.webp 240w,
/static/7ac17c4f63611789bd96206229d988b0/d3be9/pipeline.webp 480w,
/static/7ac17c4f63611789bd96206229d988b0/e46b2/pipeline.webp 960w,
/static/7ac17c4f63611789bd96206229d988b0/af3f0/pipeline.webp 1280w&quot;
              sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/7ac17c4f63611789bd96206229d988b0/09b79/pipeline.jpg 240w,
/static/7ac17c4f63611789bd96206229d988b0/7cc5e/pipeline.jpg 480w,
/static/7ac17c4f63611789bd96206229d988b0/6a068/pipeline.jpg 960w,
/static/7ac17c4f63611789bd96206229d988b0/eea4a/pipeline.jpg 1280w&quot;
            sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
            type=&quot;image/jpeg&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/7ac17c4f63611789bd96206229d988b0/6a068/pipeline.jpg&quot;
            alt=&quot;Create your bioinformatics pipeline&quot;
            title=&quot;Create your bioinformatics pipeline&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now that you know how to run bioinformatics software in Docker containers, it’s time to connect them up. If you’ve missed the last post the link is here: &lt;a href=&quot;/posts/getting-started-with-docker-for-bioinformatics&quot;&gt;Getting started with Docker for bioinformatics.&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;content-overview&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#content-overview&quot; aria-label=&quot;content overview permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Content Overview&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;What is a pipeline?&lt;/li&gt;
&lt;li&gt;Nextflow vs Snakemake&lt;/li&gt;
&lt;li&gt;Using Nextflow and Docker containers to create your pipeline&lt;/li&gt;
&lt;li&gt;Summary&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;what-is-a-pipeline-anyway&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#what-is-a-pipeline-anyway&quot; aria-label=&quot;what is a pipeline anyway permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is a pipeline anyway?&lt;/h2&gt;
&lt;p&gt;The term ‘pipeline’ is thrown around a lot in bioinformatics. In simple terms, it refers to the programs that have to be run in a certain order to complete the analysis. Some of these programs take the outputs of earlier programs and process them in order to achieve a specific objective.&lt;/p&gt;
&lt;p&gt;This can be as simple as a couple of programs or it can become a messy spider web. A basic example would be: raw fastq files from the sequencer —&gt; passing it through an aligner against the human genome —&gt; variant calling.&lt;/p&gt;
&lt;p&gt;NF core have a nice set of pipelines &lt;a href=&quot;https://nf-co.re/pipelines&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;here&lt;/a&gt; including much more complex ones.&lt;/p&gt;
&lt;h2 id=&quot;how-to-get-started&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-to-get-started&quot; aria-label=&quot;how to get started permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to get started&lt;/h2&gt;
&lt;p&gt;There are two key frameworks that I will point you to: &lt;a href=&quot;https://www.nextflow.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;nextflow&lt;/a&gt; and &lt;a href=&quot;https://snakemake.readthedocs.io/en/stable/%5D&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;snakemake&lt;/a&gt;. These are the programs that will run your programs for you and orchestrate the input and output files.&lt;/p&gt;
&lt;h2 id=&quot;nextflow-vs-snakemake&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#nextflow-vs-snakemake&quot; aria-label=&quot;nextflow vs snakemake permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Nextflow vs Snakemake&lt;/h2&gt;
&lt;p&gt;Disclaimer: this is my personal opinion on this topic. Try both and make up your mind as to which suits your thought process better.&lt;/p&gt;
&lt;h3 id=&quot;1-the-programming-language-difference-doesnt-matter&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-the-programming-language-difference-doesnt-matter&quot; aria-label=&quot;1 the programming language difference doesnt matter permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. The programming language difference doesn’t matter.&lt;/h3&gt;
&lt;p&gt;Snakemake is based on python whereas nextflow uses groovy (which is like python for java). Initially when I first came across these comparisons I immediately jumped to snakemake as I’m pretty comfortable with python.&lt;/p&gt;
&lt;p&gt;Having tried both now, I would say that since you need to learn the pipeline syntax anyway, the actual difference between python and groovy is pretty minimal.&lt;/p&gt;
&lt;h3 id=&quot;2-the-biggest-difference-is-the-thinking-direction-of-the-pipeline&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-the-biggest-difference-is-the-thinking-direction-of-the-pipeline&quot; aria-label=&quot;2 the biggest difference is the thinking direction of the pipeline permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. The biggest difference is the ‘thinking direction’ of the pipeline&lt;/h3&gt;
&lt;p&gt;Let me explain what I mean. In snakemake you have to ‘think backwards’ and work your way from the desired output towards the input. I find nextflow way more intuitive in that you think about your pipeline in sequence of how you run your programs.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Here’s how you have to think in snakemake:&lt;/strong&gt; I need output C which comes from program B and to get program B to run you need the output of program A.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Compared to nextflow:&lt;/strong&gt; With my input files I run it in program A and then take it to program B. Output C will result.&lt;/p&gt;
&lt;h3 id=&quot;3-why-i-switched-to-nextflow-the-separation-of-how-the-pipeline-is-run-from-what-the-pipeline-is&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-why-i-switched-to-nextflow-the-separation-of-how-the-pipeline-is-run-from-what-the-pipeline-is&quot; aria-label=&quot;3 why i switched to nextflow the separation of how the pipeline is run from what the pipeline is permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. Why I switched to Nextflow: The separation of how the pipeline is run from what the pipeline is&lt;/h3&gt;
&lt;p&gt;The key reason why I switched from snakemake to nextflow is ‘the decoupling of pipeline execution’ or in plain terms, the separation of where and how your pipeline is run and what the pipeline actually does. The series of steps is described in the main file while the execution can be controlled by the configuration. We will cover pipeline execution in a separate article.&lt;/p&gt;
&lt;h2 id=&quot;nextflow-pipeline&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#nextflow-pipeline&quot; aria-label=&quot;nextflow pipeline permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Nextflow Pipeline&lt;/h2&gt;
&lt;p&gt;It is now time to go into more detail on setting up your pipeline in nextflow. Here’s an example pipeline which takes in Illumina paired reads, runs them through fastqc and bowtie2 and perform some simple statistics on the aligned file.&lt;/p&gt;
&lt;h3 id=&quot;prerequisites&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#prerequisites&quot; aria-label=&quot;prerequisites permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Install Nextflow&lt;/li&gt;
&lt;li&gt;Install Docker&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;1-set-up-and-define-your-input-and-outputs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-set-up-and-define-your-input-and-outputs&quot; aria-label=&quot;1 set up and define your input and outputs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Set up and define your input and outputs&lt;/h3&gt;
&lt;p&gt;First we set up a couple of parameters that can be easily changed depending on whether you are running test files vs actual data. These parameters can be modified in your config profiles.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;// main.nf file
#!/usr/bin/env nextflow

// PIPELINE PARAMETERS HERE

// Input Files
params.reads = &amp;quot;$baseDir/data/*/*_{R1,R2}_*.fastq.gz&amp;quot;

// Report Directory
params.outdir = &amp;#39;reports&amp;#39;

// Reference Genomes
params.bowtie2_reference_index = &amp;quot;$baseDir/reference_db/bowtie2/bt2_index.tar.gz&amp;quot;
bowtie2_db_ch = Channel.value(file(&amp;quot;${params.bowtie2_reference_index}&amp;quot;))&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;2-create-channels-and-feed-your-input-into-them&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-create-channels-and-feed-your-input-into-them&quot; aria-label=&quot;2 create channels and feed your input into them permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. Create ‘channels’ and feed your input into them&lt;/h3&gt;
&lt;p&gt;In nextflow, there is this concept of ‘channels’. The basic premise is simple - each channel represents one file that can only be consumed once (unless it’s a ‘value channel’). Think of channels as pipes that you can feed files into which can be used only once.&lt;/p&gt;
&lt;p&gt;In this example, we generate the channels using the fromFilePairs method and create 2 channels - &lt;code class=&quot;language-text&quot;&gt;fastqc_reads&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;reads_for_alignment&lt;/code&gt;. *side note this is using the standard nextflow language rather than their newer DSL2.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;reads = Channel.fromFilePairs(params.reads)
reads.into { fastqc_reads; reads_for_alignment }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;3-now-lets-have-a-look-at-our-first-process-and-break-it-down&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-now-lets-have-a-look-at-our-first-process-and-break-it-down&quot; aria-label=&quot;3 now lets have a look at our first process and break it down permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. Now let’s have a look at our first process and break it down&lt;/h3&gt;
&lt;p&gt;Here is the process block - this process is named &lt;code class=&quot;language-text&quot;&gt;fastqc_run&lt;/code&gt; but you can change this to whatever name suits.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;process fastqc_run {
    publishDir &amp;quot;$params.outdir/fastqc/$sample_id/&amp;quot;, mode: &amp;#39;copy&amp;#39;
    container &amp;#39;biocontainers/fastqc:v0.11.9_cv8&amp;#39;
    cpus 16

    input:
    tuple val(sample_id), file(reads_file) from fastqc_reads

    output:
    file &amp;quot;*_fastqc.{zip,html}&amp;quot;

    script:
    &amp;quot;&amp;quot;&amp;quot;
    fastqc $reads_file -o . --threads ${task.cpus}
    &amp;quot;&amp;quot;&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In general, there are 4 components to each process:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A configuration block&lt;/li&gt;
&lt;li&gt;Process inputs&lt;/li&gt;
&lt;li&gt;Process outputs&lt;/li&gt;
&lt;li&gt;Script that runs the desired program&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Let’s break down the above process codeblock into the 4 components.&lt;/p&gt;
&lt;h4 id=&quot;configuration&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#configuration&quot; aria-label=&quot;configuration permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuration&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  publishDir &quot;$params.outdir/fastqc/$sample_id/&quot;, mode: &apos;copy&apos;
  container &apos;biocontainers/fastqc:v0.11.9_cv8&apos;
  cpus 16&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;publishDir&lt;/code&gt; This allows you to copy the output files of this process to a desired location for easy access. Note that by default it creates a shortcut link to the actual file location and you have to explicitly specify for it to copy and give you the actual file.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;container&lt;/code&gt; &lt;strong&gt;This is where the real magic happens.&lt;/strong&gt; If you specify a publicly available Docker container, Nextflow will seamlessly pull the container in, run the script and generate the output that you’re looking for. *side note on the config you will need to specify docker enabled as true.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;cpus&lt;/code&gt; This specifies the amount of CPUs you wish to run for this process. You can also specify memory options and will help in autoscaling your cloud computation needs. In general this option is useful if you are using VMs of varying size and works quite well with Google Cloud.&lt;/p&gt;
&lt;h4 id=&quot;inputs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#inputs&quot; aria-label=&quot;inputs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  input:
  tuple val(sample_id), file(reads_file) from fastqc_reads&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;Channel.fromFilePairs&lt;/code&gt; method generates a tuple &lt;code class=&quot;language-text&quot;&gt;[wildcard value, [the pair of files for processing]]&lt;/code&gt;. Read &lt;a href=&quot;https://www.nextflow.io/docs/latest/channel.html#fromfilepairs&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;here&lt;/a&gt; for full documentation.&lt;/p&gt;
&lt;p&gt;So when we call it into the input, we assign the variable name &lt;code class=&quot;language-text&quot;&gt;sample_id&lt;/code&gt; to the wildcard value and call the files &lt;code class=&quot;language-text&quot;&gt;reads_file&lt;/code&gt;. As a side note, if you need to access the first file you can call &lt;code class=&quot;language-text&quot;&gt;reads_file[0]&lt;/code&gt; to do so and the second file is &lt;code class=&quot;language-text&quot;&gt;reads_file[1]&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&quot;outputs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#outputs&quot; aria-label=&quot;outputs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  output:
  file &quot;*_fastqc.{zip,html}&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here we are telling nextflow to expect a zip file and a html file from the output of fastqc. Since we declared &lt;code class=&quot;language-text&quot;&gt;publishDir&lt;/code&gt; above, nextflow will then copy these files to the report directory.&lt;/p&gt;
&lt;h4 id=&quot;script&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#script&quot; aria-label=&quot;script permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Script&lt;/h4&gt;
&lt;p&gt;Finally, let’s tell nextflow how to run fastqc!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  script:
  &quot;&quot;&quot;
  fastqc $reads_file -o . --threads ${task.cpus}
  &quot;&quot;&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A couple of comments. &lt;code class=&quot;language-text&quot;&gt;-o .&lt;/code&gt; tells fastqc to place the output in the current working directory - this will be located in nextflow’s work directory. &lt;code class=&quot;language-text&quot;&gt;--threads ${task.cpus}&lt;/code&gt; is how we parallelise fastqc to take advantage of the available cpus for this process.&lt;/p&gt;
&lt;h3 id=&quot;4-here-is-how-the-pipeline-continues&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-here-is-how-the-pipeline-continues&quot; aria-label=&quot;4 here is how the pipeline continues permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. Here is how the pipeline continues&lt;/h3&gt;
&lt;p&gt;The code below is hopefully pretty straightforward. The output from bowtie2 is split into two channels &lt;code class=&quot;language-text&quot;&gt;aligned_ch&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;stats_ch&lt;/code&gt;. &lt;code class=&quot;language-text&quot;&gt;stat_ch&lt;/code&gt; is sent to samtools to run flagstat and &lt;code class=&quot;language-text&quot;&gt;aligned_ch&lt;/code&gt; continues on for onward processing in the next steps of the pipeline.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;process bowtie2 {
    container &apos;biocontainers/bowtie2:v2.4.1_cv1&apos;
    cpus 16

    input:
    tuple val(sample_id), file(reads_file) from reads_for_alignment
    file db from bowtie2_db_ch

    output:
    tuple val(sample_id), file(&apos;*.sam&apos;) into aligned_ch, stats_ch

    script:
    &quot;&quot;&quot;
    tar -xvf $db
    bowtie2 -t -p ${task.cpus} -x bowtie2/GRCh38_bowtie2 -1 ${reads_file[0]} -2 ${reads_file[1]} -S ${sample_id}.sam
    &quot;&quot;&quot;
}

process samtools_flagstat {
    publishDir &quot;$params.outdir/samtools_flagstat/&quot;
    container &apos;biocontainers/samtools:v1.9-4-deb_cv1&apos;
    cpus 16
    tag &quot;$sample_id&quot;

    input:
    tuple val(sample_id), file(sam_file) from stats_ch

    output:
    path &quot;${sample_id}_flagstat.txt&quot;

    script:
    &quot;&quot;&quot;
    samtools flagstat -@ ${task.cpus} $sam_file &gt; ${sample_id}_flagstat.txt
    &quot;&quot;&quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;summary&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#summary&quot; aria-label=&quot;summary permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Summary&lt;/h2&gt;
&lt;p&gt;The above is a simple introduction to using nextflow to pull in containers and orchestrate a pipeline. It is well worth investing some time to automate your pipeline - write your code once and use it forever!&lt;/p&gt;
&lt;p&gt;More importantly, this is one step closer to creating your cloud genomics supercomputer. We will cover this next.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Stay tuned for more articles where I will explore the technological shifts happening not just in tech but also health and biology&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Getting Started with Docker for Bioinformatics]]></title><description><![CDATA[Stop wasting your time installing every single bioinformatic tool. Just call the container in from the cloud and go.]]></description><link>https://shaunchuah.github.io/posts/getting-started-with-docker-for-bioinformatics</link><guid isPermaLink="false">https://shaunchuah.github.io/posts/getting-started-with-docker-for-bioinformatics</guid><pubDate>Thu, 05 Aug 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4dedca9e59f21d494ce13f7854a17c32/644c5/containers.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMCBAUG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAZ6nOMKaVxn/xAAbEAACAgMBAAAAAAAAAAAAAAABAgMhAAQREv/aAAgBAQABBQLWfjs4AkkPtLNYRf8A/8QAFREBAQAAAAAAAAAAAAAAAAAAECH/2gAIAQMBAT8Bh//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAEQESBR/9oACAEBAAY/Ao1Gn//EABsQAAICAwEAAAAAAAAAAAAAAAABESExUZFx/9oACAEBAAE/Ib06y9G9yh6ayDpT6Ro+itun/9oADAMBAAIAAwAAABAA3//EABYRAQEBAAAAAAAAAAAAAAAAAAEAQf/aAAgBAwEBPxANSX//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFB/9oACAECAQE/EFeW3//EABwQAQADAAIDAAAAAAAAAAAAAAEAESExQYHw8f/aAAgBAQABPxA6ADy8iXNkwL5ZTMQ18iIBlwWA6+uotbnNj//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/4dedca9e59f21d494ce13f7854a17c32/8ac56/containers.webp 240w,
/static/4dedca9e59f21d494ce13f7854a17c32/d3be9/containers.webp 480w,
/static/4dedca9e59f21d494ce13f7854a17c32/e46b2/containers.webp 960w,
/static/4dedca9e59f21d494ce13f7854a17c32/f992d/containers.webp 1440w&quot;
              sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/4dedca9e59f21d494ce13f7854a17c32/09b79/containers.jpg 240w,
/static/4dedca9e59f21d494ce13f7854a17c32/7cc5e/containers.jpg 480w,
/static/4dedca9e59f21d494ce13f7854a17c32/6a068/containers.jpg 960w,
/static/4dedca9e59f21d494ce13f7854a17c32/644c5/containers.jpg 1440w&quot;
            sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
            type=&quot;image/jpeg&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/4dedca9e59f21d494ce13f7854a17c32/6a068/containers.jpg&quot;
            alt=&quot;Docker for Bioinformatics&quot;
            title=&quot;Docker for Bioinformatics&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Next generation sequencing is becoming much more accessible to researchers in 2021. As you stare at the freshly minted .fastq files, you’re wondering - how do I go about analysing this?&lt;/p&gt;
&lt;p&gt;After a stint on Google, you decide that you want to run bwa-mem/bowtie2 and then send the output into samtools. Next thing you know, you’re trying to install half a dozen bioinformatic programs on your new ubuntu machine. You run into dependency hell or else conda seems to be stuck solving god knows what and this quickly eats up half your day.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Stop wasting your time installing software - there is a secret to bypass all of this - Docker!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 601px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7bcbbab5e4c7c9a94f7a32016ae8f827/d8f62/docker2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADq0lEQVQ4y0VUfVBUVRQ/u+4fjn84U2NIjo3Ke/fe99bQUZEcHLVmLMsIS6xGbZpAjSTFD0T5XCmYUtSSYWFXiD5oEr+S0izFwsGUFFdc/MxUAsQvdgWMGgH3vdO5D9Q7c+bce995v3N+5+MC0NKjssE5Lg2ckWmgR7tAj8mDcRAJYt43IN7ZFcdcjciyGpAvOeDiSw8BX1rt4GvqQLz7vV0sqLSRDYj5laCRvbWcEzPBKZaDU02WgMP0qflh+vQN4ZEwcbB4s2IJyz2PLMcvAfMJDHjyYQeB2LTXy0Gfkgta/Nc2EhAJPwBE7ETgSb849OcLQCzY8Rx5bmXr6q/zlCOtFFUL6SDL9D1gmadRJP6YL6PhydWDyRa0N76M0mdseEqbXUJMdjuIkc0CJABgGackxRj20QW0JNuP6id/Icvwkb7Sy3LPIX//52yKFPjin2AygIOtO3mTpf1RG1GFoL3qAe3lIgC29gSIRfuW85VHj/APDtbx1GMGSz9l8A9/NShCgyI06CeDnBLggSs89fhBYuTVYr3RakGzoW65jtrcr5YR/fHaK+5wUD+9CgS2nX18EZnrLJI22XrSWWeQ5V9Gll7fH6mrUTpCdVMzktN/IuGF4WR3Q/F2oVrwd/99Ss0lqtSeOL7stwYLIO1EnwSgfJl89THTKkTqcTr7TEmdr/o9xNafM/nK2k6ivZVSE1CL2gmsRaapnZi+JXOHqpsuP79hqFtv4kPhhQP7wluP7gb2pqWL7qCyrUs6v0D5m6lPygonR5TD7DO3lbJuVErumoqnw1Q9HTimpANHuDsxgrQ8K4/FtLS09XbdV7e0okioShKL98N4eAIo73aghFerxUEkCanFAVMpDpoTyoKYuKcdny29ixFu65sUc0Dkvk8Cs7Un/bLaIxFtYl6FXSzcCbLCKUQXldJ7vaK0C8OLOs2Y8oBZfKgZo8o7cLSbQCiih6AUXZ+y7R5Ss4e0uNJoqjCI96rsWlxZ/6Q4RyYO5en1rcpnbTg871rvjM0XQ9O8bUZYIdFzBySQQVGHCOgB0ZRagvWJt797TfYjFW0QFVIOR//YDX2pHMJe9E5fVHC0+7CvDe93/4fBHsQ5e//F0R5qCW+nlUfVHUB1YxPSJNVpsZ5JxAyozQY9jQijrlFjxw/McWxOjX1qYiXEJm1XNn/rc++tbWpo/PN2S43/Vk/8F009Y/Iut/Acv5+vqK2gcZs19pmEJ+khGDJLvgETMugRcT5+FGj9D6V0JAJZu0fzAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/7bcbbab5e4c7c9a94f7a32016ae8f827/8ac56/docker2.webp 240w,
/static/7bcbbab5e4c7c9a94f7a32016ae8f827/d3be9/docker2.webp 480w,
/static/7bcbbab5e4c7c9a94f7a32016ae8f827/84ad9/docker2.webp 601w&quot;
              sizes=&quot;(max-width: 601px) 100vw, 601px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/7bcbbab5e4c7c9a94f7a32016ae8f827/8ff5a/docker2.png 240w,
/static/7bcbbab5e4c7c9a94f7a32016ae8f827/e85cb/docker2.png 480w,
/static/7bcbbab5e4c7c9a94f7a32016ae8f827/d8f62/docker2.png 601w&quot;
            sizes=&quot;(max-width: 601px) 100vw, 601px&quot;
            type=&quot;image/png&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/7bcbbab5e4c7c9a94f7a32016ae8f827/d8f62/docker2.png&quot;
            alt=&quot;Docker logo&quot;
            title=&quot;Docker logo&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;There are Docker containers for most bioinformatic tools. Instead of installing software, all you have to do is specify the Docker image and you’re ready to run the program!&lt;/p&gt;
&lt;h2 id=&quot;heres-the-secret&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#heres-the-secret&quot; aria-label=&quot;heres the secret permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Here’s the secret&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;docker run -it -v &amp;#39;&amp;lt;path to your files&amp;gt;:/data&amp;#39; &amp;lt;container of your choice&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This immediately spins up the shell version of the bioinformatic tool and you can immediately run the commands needed to execute the program.&lt;/p&gt;
&lt;h3 id=&quot;bowtie2-example&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#bowtie2-example&quot; aria-label=&quot;bowtie2 example permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bowtie2 Example&lt;/h3&gt;
&lt;p&gt;Assuming your directory structure looks like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sequencing_data/
├─ reads/
│  ├─ sample_id/
│  │  ├─ read_1.fastq.gz
│  │  ├─ read_2.fastq.gz
├─ bowtie2/
│  ├─ GRCh38_bowtie2.fa&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;docker run -it -v &amp;#39;~/sequencing_data:/data&amp;#39; biocontainers/bowtie2:v2.4.1_cv1

bowtie2 -t -p 4 -x bowtie2/GRCh38_bowtie2 -1 reads/sample_id/read_1.fastq.gz -2 reads/sample_id/read_2.fastq.gz -S output.sam&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;heres-the-breakdown-of-the-magic&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#heres-the-breakdown-of-the-magic&quot; aria-label=&quot;heres the breakdown of the magic permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Here’s the breakdown of the magic&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;-it&lt;/strong&gt;: This opens an interactive shell into the running container&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;-v ‘path-you-want-to-access:/data’&lt;/strong&gt;: This is the key command that binds your computer’s files into the container. For most biocontainers the target is /data but this may need tweaked depending on the container. This allows the program in the container to access and compute the files on your local computer. Understanding this was the key bit that unlocked the power of Docker in my mind.&lt;/p&gt;
&lt;h2 id=&quot;how-to-find-docker-containers&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-to-find-docker-containers&quot; aria-label=&quot;how to find docker containers permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to find Docker containers&lt;/h2&gt;
&lt;p&gt;For most things, just google the tool you want and add Docker eg. ‘bwa docker’, ‘metaphlan docker’&lt;/p&gt;
&lt;p&gt;Here are a list of public container registries with amazing software:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/u/biobakery&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://hub.docker.com/u/biobakery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/u/biocontainers&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://hub.docker.com/u/biocontainers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/u/staphb&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://hub.docker.com/u/staphb&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Give this a try - 10-15 mins of experimenting will save you days of time and you will never have to manage dependencies anymore!&lt;/p&gt;
&lt;h2 id=&quot;what-next&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#what-next&quot; aria-label=&quot;what next permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What next?&lt;/h2&gt;
&lt;p&gt;Once you have got your head round using Docker for your bioinformatics, the next thing that comes to mind is to automate the containers locally on your computer so that you can easily run 100 read files at the touch of a button. I will cover this in a future article.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Stay tuned for more articles where I will explore the technological shifts happening not just in tech but also health and biology&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[4 Major Architectural Approaches to Building Websites in 2021]]></title><description><![CDATA[This article is for people who are new to web development, lost in the myriad of web frameworks and are asking themselves: What are the real differences in the frameworks?]]></description><link>https://shaunchuah.github.io/posts/architectural-approaches-to-building-websites</link><guid isPermaLink="false">https://shaunchuah.github.io/posts/architectural-approaches-to-building-websites</guid><pubDate>Thu, 01 Jul 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4d096966b4a7b24584fccb56be7c0435/b17f8/webarchitecture.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB5SaZUKUB/8QAFxAAAwEAAAAAAAAAAAAAAAAAARAiQf/aAAgBAQABBQLEBC//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGH/8QAFhAAAwAAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/Alp//8QAGhABAQACAwAAAAAAAAAAAAAAAQAQESFRcf/aAAgBAQABPyEMXwg2g5nfa//aAAwDAQACAAMAAAAQTw//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxCn/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEh/9oACAECAQE/EK4//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFh/9oACAEBAAE/EFuFb3A3Bvt97lI+1cNXSYCb/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/4d096966b4a7b24584fccb56be7c0435/8ac56/webarchitecture.webp 240w,
/static/4d096966b4a7b24584fccb56be7c0435/d3be9/webarchitecture.webp 480w,
/static/4d096966b4a7b24584fccb56be7c0435/e46b2/webarchitecture.webp 960w,
/static/4d096966b4a7b24584fccb56be7c0435/f992d/webarchitecture.webp 1440w,
/static/4d096966b4a7b24584fccb56be7c0435/fad48/webarchitecture.webp 1600w&quot;
              sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/4d096966b4a7b24584fccb56be7c0435/09b79/webarchitecture.jpg 240w,
/static/4d096966b4a7b24584fccb56be7c0435/7cc5e/webarchitecture.jpg 480w,
/static/4d096966b4a7b24584fccb56be7c0435/6a068/webarchitecture.jpg 960w,
/static/4d096966b4a7b24584fccb56be7c0435/644c5/webarchitecture.jpg 1440w,
/static/4d096966b4a7b24584fccb56be7c0435/b17f8/webarchitecture.jpg 1600w&quot;
            sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
            type=&quot;image/jpeg&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/4d096966b4a7b24584fccb56be7c0435/6a068/webarchitecture.jpg&quot;
            alt=&quot;Web Architecture in 2021&quot;
            title=&quot;Web Architecture in 2021&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This article is for people who are new to web development, lost in the myriad of web frameworks and are asking themselves:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What are the real differences in the frameworks?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Having spent the last year getting up to speed with the state of the web, I’m going to summarise the 4 major architectural approaches to launching a new website in 2021. Although I write about them as discrete categories, in reality they exist on a continuum and some frameworks will blur the lines between these categories (eg. NextJS). For the beginner though, it is helpful to have a rough overview of the major choices available to you.&lt;/p&gt;
&lt;h2 id=&quot;1-traditional-htmlcssjavascript&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-traditional-htmlcssjavascript&quot; aria-label=&quot;1 traditional htmlcssjavascript permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;#1 Traditional HTML/CSS/Javascript&lt;/h2&gt;
&lt;p&gt;The original way websites were build. Just pure html, css and maybe a bit of javascript. Throw in a css framework or sprinkle a bit of javascript. Ideal for one-page brochure websites which do not need constant updates of content, at a stretch maybe up to 2-3 pages. If you’re planning anything bigger, try one of the other options below.&lt;/p&gt;
&lt;h3 id=&quot;deployment-methods&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deployment-methods&quot; aria-label=&quot;deployment methods permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deployment Methods&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Grab index.html and all associated files and SFTP it to apache or nginx or CDN of your choice&lt;/li&gt;
&lt;li&gt;A better way - Setup a git repo on github and use git clone into your apache/nginx server. Makes updating website a matter of running git pull.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Advantages:&lt;/strong&gt; Fast to develop, extremely easy to customise, easy to deploy, easy to scale.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disadvantages:&lt;/strong&gt; Does not suit websites which have more than one page or content that needs updated regularly.&lt;/p&gt;
&lt;h2 id=&quot;2-full-stack-cms&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-full-stack-cms&quot; aria-label=&quot;2 full stack cms permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;#2 Full Stack CMS&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Examples: Wordpress, Django, Ruby on Rails, Laravel&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;These are the traditional server side frameworks which still run most of the web today. The magic here is that the website is connected to a backend database which can hold different content and render the content into html based on templates. These frameworks also allow for user authentication and storing things like contact form data.&lt;/p&gt;
&lt;h3 id=&quot;deployment-methods-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deployment-methods-1&quot; aria-label=&quot;deployment methods 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deployment Methods&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Usually custom to the framework. Generally requires installing a few pieces of software on your server. Think of the traditional LAMP stack (Linux Apache MySql PHP).&lt;/li&gt;
&lt;li&gt;Use docker to automate the framework deployment steps.&lt;/li&gt;
&lt;li&gt;Some webhost may offer one-click deployment eg of Wordpress&lt;/li&gt;
&lt;li&gt;Platform as a service eg. Heroku&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Advantages:&lt;/strong&gt; Well used, well documented, tried and tested way of having a website hosting content which can be updated easily.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disadvantages:&lt;/strong&gt; Need to deploy, monitor and look after database backend.&lt;/p&gt;
&lt;h2 id=&quot;3-decoupled-javascript-frontendapi-backend&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-decoupled-javascript-frontendapi-backend&quot; aria-label=&quot;3 decoupled javascript frontendapi backend permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;#3 Decoupled Javascript Frontend/API Backend&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Examples: React/Vue + Django Rest Framework/Laravel/Ruby on Rails, React/Vue/Mobile Frontend + AWS Amplify/Google Firebase (Backend as a service)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The trendiest way to build websites in 2021. Pick a frontend javascript framework and communicate with databases via an API gateway. Makes for very slick websites and web applications on par with desktop apps.&lt;/p&gt;
&lt;h3 id=&quot;deployment-methods-2&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deployment-methods-2&quot; aria-label=&quot;deployment methods 2 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deployment Methods&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;More involved than #2. Deploy both the frontend and the backend.&lt;/li&gt;
&lt;li&gt;Docker is highly recommended here.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Advantages:&lt;/strong&gt; Amazingly slick and interactive websites. Easy to split work between multiple developers.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disadvantages:&lt;/strong&gt; Need to deploy, monitor and look after two projects. Double the work of the traditional frameworks.&lt;/p&gt;
&lt;h2 id=&quot;4-full-jamstack-static-site-generation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-full-jamstack-static-site-generation&quot; aria-label=&quot;4 full jamstack static site generation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;#4 Full JAMStack Static Site Generation&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Examples: Hugo, Jekyll, GatsbyJS, Docusaurus, VuePress, Gridsome&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Number 3 and 4 are similar in concepts at first glance. The slight difference is that these full on static site generators are more suited for webpages where the content can be preloaded (eg blogs, articles) and less suited for web applications which have users interacting with the database (such as chat apps/social media).&lt;/p&gt;
&lt;p&gt;The key concept is that before the site is deployed, the engine pulls all the content and all the code and spits out html/javascript/css files. These files are then deployed like #1 to a server or to a CDN for global scaling.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Advantages&lt;/strong&gt; Can create single page websites (like this blog) which do not reload the browser when navigating between pages. Makes the website feel really slick.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disadvantages:&lt;/strong&gt; This is for websites rather than web applications (use #3 instead). Initial learning curve on the generator of choice.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;The right architectural choice will depend on the scope of what you’re building and the expected scale/audience. Brochure websites are different to blogs which are different to web applications.&lt;/p&gt;
&lt;p&gt;Something important to note is that web projects are often unpredictable and tend to grow in size and complexity with time. You may reach a point where you need to consider a rework of the architecture (usually this is a good problem to have if your site traffic is growing!).&lt;/p&gt;
&lt;p&gt;Choosing the right approach and avoiding premature optimisation will avoid wasted effort and speed your time to deployment.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Stay tuned for more articles where I will explore the technological shifts happening not just in tech but also health and biology&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The State of Modern Web Development]]></title><description><![CDATA[I've had to dabble in a bit of web development over the past year as part of my research fellowship and having not done this for a while, I have accrued a couple of thoughts I want to share...]]></description><link>https://shaunchuah.github.io/posts/state-of-modern-web-development</link><guid isPermaLink="false">https://shaunchuah.github.io/posts/state-of-modern-web-development</guid><pubDate>Tue, 29 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8cbb65677189de5f4af8d7651dcad065/0f98f/state-of-modern-webdev.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAEDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHJlqMUIT//xAAZEAADAQEBAAAAAAAAAAAAAAAAAQIREBL/2gAIAQEAAQUCmHQoeGs9Pn//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAwEBPwGH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAgMAAAAAAAAAAAAAAAAAABAxQZH/2gAIAQEABj8CLxyv/8QAGhAAAwADAQAAAAAAAAAAAAAAAAERITFhcf/aAAgBAQABPyFRzwuYYNRxiVpncU//2gAMAwEAAgADAAAAEB/P/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/EBmJn//EABcRAQADAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQIBAT8Qbxj/xAAaEAEBAQEAAwAAAAAAAAAAAAABEQAhYYGx/9oACAEBAAE/EKUoC2n5kRSEgu+8zhEYmJihriQPHMpatd//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
          &lt;source
              srcset=&quot;/static/8cbb65677189de5f4af8d7651dcad065/8ac56/state-of-modern-webdev.webp 240w,
/static/8cbb65677189de5f4af8d7651dcad065/d3be9/state-of-modern-webdev.webp 480w,
/static/8cbb65677189de5f4af8d7651dcad065/e46b2/state-of-modern-webdev.webp 960w,
/static/8cbb65677189de5f4af8d7651dcad065/f992d/state-of-modern-webdev.webp 1440w,
/static/8cbb65677189de5f4af8d7651dcad065/882b9/state-of-modern-webdev.webp 1920w&quot;
              sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
              type=&quot;image/webp&quot;
            /&gt;
          &lt;source
            srcset=&quot;/static/8cbb65677189de5f4af8d7651dcad065/09b79/state-of-modern-webdev.jpg 240w,
/static/8cbb65677189de5f4af8d7651dcad065/7cc5e/state-of-modern-webdev.jpg 480w,
/static/8cbb65677189de5f4af8d7651dcad065/6a068/state-of-modern-webdev.jpg 960w,
/static/8cbb65677189de5f4af8d7651dcad065/644c5/state-of-modern-webdev.jpg 1440w,
/static/8cbb65677189de5f4af8d7651dcad065/0f98f/state-of-modern-webdev.jpg 1920w&quot;
            sizes=&quot;(max-width: 960px) 100vw, 960px&quot;
            type=&quot;image/jpeg&quot;
          /&gt;
          &lt;img
            class=&quot;gatsby-resp-image-image&quot;
            src=&quot;/static/8cbb65677189de5f4af8d7651dcad065/6a068/state-of-modern-webdev.jpg&quot;
            alt=&quot;State of Moden Web Development Header Image&quot;
            title=&quot;State of Moden Web Development Header Image&quot;
            loading=&quot;lazy&quot;
            style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
          /&gt;
        &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I’ve had to dabble in a bit of web development over the past year as part of my research fellowship and having not done this for a while, I have accrued a couple of thoughts I want to share.&lt;/p&gt;
&lt;h2 id=&quot;my-background&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#my-background&quot; aria-label=&quot;my background permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;My Background&lt;/h2&gt;
&lt;p&gt;First, a bit of background. Growing up, I’ve had the privilege of witnessing the birth and evolution of the modern internet. From those days of 56kbps dial-up modems which get struck by lightning occasionally and back when Yahoo was the default home page for everybody (remember those days?). This was before MySpace and Friendster.&lt;/p&gt;
&lt;p&gt;As I got through secondary school, that was my first real encounter with web development. We had to do group projects which involved making a webpage around a particular topic. Something like a wiki in the days when Wikipedia was barely around. I handcoded webpages with &lt;strong&gt;notepad&lt;/strong&gt;. Yes, those days.&lt;/p&gt;
&lt;h2 id=&quot;lets-talk-code-editors&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#lets-talk-code-editors&quot; aria-label=&quot;lets talk code editors permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Let’s talk code editors&lt;/h2&gt;
&lt;p&gt;In 2021, I am glad to report I no longer use notepad. Now VSCode seems to be the defacto IDE and certainly is the one I would recommend. There is &lt;em&gt;AI code autocompletion&lt;/em&gt;. What?! Just incredibly amazing. In fact, this blog is written purely in VSCode.&lt;/p&gt;
&lt;p&gt;Nowhere has this evolution in IDEs been more impressive to me than in the world of Javascript coding. I used to waste countless hours hunting for that missing curly brace in Notepad which screwed up the entire program. And in fact, I hated JavaScript for that very reason. Now with eslint and autoformatting, JavaScript is a complete breeze and a joy to write. Let’s not go into its idiosyncracies.&lt;/p&gt;
&lt;h2 id=&quot;how-about-css-frameworks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-about-css-frameworks&quot; aria-label=&quot;how about css frameworks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How about CSS Frameworks?&lt;/h2&gt;
&lt;p&gt;CSS is still probably one of the toughest things to get right. And then Bootstrap by Twitter came along and allowed everybody to stop handwriting CSS from scratch every single time. After that, the mobile revolution happened and websites had to accommodate a ridiculous number of screen sizes.&lt;/p&gt;
&lt;p&gt;Now in 2021, it seems that all the jazz is around tailwindcss and rightly so. Initially I struggled to get my head around it. Why write things like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;bg-blue-100 mb-4 rounded shadow&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;How is this different from html in the pre-CSS days?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token value css language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; blue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and that brings me onto:&lt;/p&gt;
&lt;h2 id=&quot;javascript-frameworks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#javascript-frameworks&quot; aria-label=&quot;javascript frameworks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Javascript Frameworks&lt;/h2&gt;
&lt;p&gt;The biggest difference in 2021 vs say 2010 are javascript frameworks - ReactJS is number one today, followed by Vue, Svelte, Angular, Alpine JS. When you make the conceptual switch from building whole web pages to building components, that’s when the logic of tailwindcss really shines.&lt;/p&gt;
&lt;p&gt;These frameworks allow you to build amazingly interactive websites that pretty much outstrip desktop applications in every way. The only desktop applications that are better installed in your machine are things like games which use tremendous amounts of horsepower.&lt;/p&gt;
&lt;h2 id=&quot;backend-frameworks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#backend-frameworks&quot; aria-label=&quot;backend frameworks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Backend Frameworks&lt;/h2&gt;
&lt;p&gt;Backend frameworks in 2021 have now transformed into APIs that serve a variety of clients - whether web or mobile app. Again another major conceptual shift. In the pre-Ruby on Rails days you had to be a php wizard or know some cgi to interact with a database. In fact, the reason why Wordpress was so popular was because it allowed you to quickly set up a website with a database on what we used to call a LAMP stack.&lt;/p&gt;
&lt;h2 id=&quot;deploying-to-the-cloud&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deploying-to-the-cloud&quot; aria-label=&quot;deploying to the cloud permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploying to the Cloud&lt;/h2&gt;
&lt;p&gt;Deploying a website in 2021 has never been easier. Gone are the days of having to actually tinker with a physical machine and hook it up to your ISP’s network in order to serve your first static web page ever. In 2021, a solo developer can single handedly build a web application that can scale across the entire world as long as you have a big enough credit card limit!&lt;/p&gt;
&lt;h2 id=&quot;the-web-is-still-the-future&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#the-web-is-still-the-future&quot; aria-label=&quot;the web is still the future permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Web is still the Future&lt;/h2&gt;
&lt;p&gt;If there is one thing you can bet on, it’s that the web is still the future. Although some may feel that the space has matured and there are a ton of tech giants, when you go into actual industries you will see that there are still a ton of things in the real world that haven’t made the technological shift.&lt;/p&gt;
&lt;p&gt;As someone who has been doing more real world stuff than being in the tech space, seeing the state of the web in 2021 has pretty much blown my mind. Companies that manage to get their heads round the above changes will rise while those who ignore them will have an increasingly tough time.&lt;/p&gt;
&lt;p&gt;If you need any further convincing, I will just say one word - covid.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Stay tuned for more articles where I will explore the technological shifts happening not just in tech but also health and biology&lt;/em&gt;&lt;/p&gt;</content:encoded></item></channel></rss>